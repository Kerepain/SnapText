# SnapText - 批量图片文字处理工具

![Build Status](https://github.com/kltions/SnapText/actions/workflows/build.yml/badge.svg)

一个用于在图片上批量添加文字的工具。

## 功能特点

- 支持导入本地图片作为模板
- 支持拖放导入图片模板和包含文本数据的CSV/TXT文件
- 支持批量将数据添加到图片模板的指定位置并生成新图片
- 支持自定义文字位置、字体、颜色、大小（最大144pt）和粗细（可开关）
- 修复了文字预览与最终生成效果在不同截图比例下的不一致问题
- 支持亮色/暗色主题切换

## 安装说明

1. 确保已安装 Python 3.9 或更高版本
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```

## 使用说明

### 1. 导入图片模板
- 点击 "导入图片" 按钮选择一张本地图片。
- 或者直接将图片文件拖放到上方的图片区域。

### 2. 导入文本数据
- 点击 "导入文本数据" 按钮选择一个 CSV 或 TXT 文件。
- 或者直接将 CSV 或 TXT 文件拖放到下方的数据区域。
- **CSV/TXT 文件格式要求：**
  - 使用 UTF-8 编码
  - 每行代表一组数据，对应生成一张图片
  - 数据之间用英文逗号 `,` 分隔
  - 每行的数据列数应与之后设置的文字位置数量一致
  - 点击数据区域右上角的 "?" 按钮可查看更详细的格式说明和示例。

### 3. 设置文字位置
- 调整 "文字位置数量" 以匹配你的数据列数。
- 点击 "选择所有文字位置" 按钮。
- 在弹出的图片预览窗口中：
  - 依次点击图片上的位置，为每个数据列指定放置点。
  - 可以调整字体、大小（8-144pt）、颜色和粗细（默认开启）。**预览效果已优化，能较好地反映最终生成效果。**
  - 完成所有位置选择后点击 "确定"。

### 4. 生成图片
- 调整 "数据组数"（可选，默认为导入数据的总行数，最大40）。
- 点击 "生成带文字截图" 按钮。
- 选择一个用于保存生成图片的文件夹。
- 等待处理完成，生成的图片会保存在你选择的目录下，文件名通常基于每行数据的第一个字段。

## 系统要求

- 操作系统：Windows, macOS, Linux (理论上均可，macOS 和 Windows 已测试)
- Python 3.9+

## 注意事项

- 确保导入的数据文件编码为 UTF-8。
- 确保数据文件的列数与设置的文字位置数量匹配。
- 生成大量图片可能需要较长时间和足够的磁盘空间。

## 技术栈

- Python 3.9+
- PyQt6 (UI 框架)
- Pillow (图像处理辅助)

## 版权和许可

Copyright (c) 2025 Kerepain

本项目采用 MIT 许可证，详见 [LICENSE](LICENSE) 文件。

## 贡献

欢迎提交问题和改进建议！如果您想贡献代码，请遵循以下步骤：

1. Fork 项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 联系方式

如有任何问题或建议，请通过以下方式联系：

- 提交 GitHub Issue
- 发送邮件至：kltion@qq.com